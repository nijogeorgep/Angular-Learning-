<div class="panel panel-primary">
  <div class="panel-heading">
      Employee Details
  </div>

  <div class="panel-body">
      <form class="form-horizontal"
            novalidate
            (ngSubmit)="save()"
            [formGroup]="employeeForm">
          <fieldset>
              <div class="form-group"
                  [ngClass]="{'has-error': (employeeForm.get('firstName').touched || 
                                            employeeForm.get('firstName').dirty) &&
                                            !employeeForm.get('firstName').valid }">
                  <label class="col-md-2 control-label" 
                         for="firstNameId">First Name</label>

                  <div class="col-md-8">
                      <input class="form-control" 
                             id="firstNameId" 
                             type="text" 
                             placeholder="First Name (required)" 
                             formControlName="firstName" />
                      <span class="help-block" *ngIf="(employeeForm.get('firstName').touched || 
                                                       employeeForm.get('firstName').dirty) && 
                                                       employeeForm.get('firstName').errors">
                          <span *ngIf="employeeForm.get('firstName').errors.required">
                              Please enter your first name.
                          </span>
                          <span *ngIf="employeeForm.get('firstName').errors.minlength">
                              The first name must be longer than 3 characters.
                          </span>
                      </span>
                  </div>
              </div>

              <div class="form-group"
                  [ngClass]="{'has-error': (employeeForm.get('lastName').touched || employeeForm.get('lastName').dirty) && !employeeForm.get('lastName').valid }">
                  <label class="col-md-2 control-label" 
                      for="lastNameId">Last Name</label>

                  <div class="col-md-8">
                      <input class="form-control" 
                             id="lastNameId" 
                             type="text" 
                             placeholder="Last Name (required)" 
                             formControlName="lastName" />
                      <span class="help-block" *ngIf="(employeeForm.get('lastName').touched || employeeForm.get('lastName').dirty) && employeeForm.get('lastName').errors">
                          <span *ngIf="employeeForm.get('lastName').errors.required">
                              Please enter your last name.
                          </span>
                           <span *ngIf="employeeForm.controls.lastName.errors.maxlength">
                              The last name must be less than 50 characters.
                          </span>
                     </span>
                  </div>
              </div>

              <div formGroupName="emailGroup"
                   [ngClass]="{'has-error': employeeForm.get('emailGroup').errors }">
                   
                  <div class="form-group"
                       [ngClass]="{'has-error': emailMessage}">
                      <label class="col-md-2 control-label" 
                          for="emailId">Email</label>

                      <div class="col-md-8">
                          <input class="form-control" 
                              id="emailId" 
                              type="email" 
                              placeholder="Email (required)" 
                              formControlName = "email" />
                          <span class="help-block" *ngIf="emailMessage">
                              {{ emailMessage }}
                          </span>
                      </div>
                  </div>

                  <div class="form-group"
                      [ngClass]="{'has-error': (employeeForm.get('emailGroup.confirmEmail').touched || 
                                                employeeForm.get('emailGroup.confirmEmail').dirty) && 
                                                !employeeForm.get('emailGroup.confirmEmail').valid }">
                      <label class="col-md-2 control-label" 
                          for="confirmEmailId">Confirm Email</label>

                      <div class="col-md-8">
                          <input class="form-control" 
                              id="confirmEmailId" 
                              type="email" 
                              placeholder="Confirm Email (required)" 
                              formControlName = "confirmEmail" />
                          <span class="help-block" *ngIf="(employeeForm.get('emailGroup.confirmEmail').touched || 
                                                          employeeForm.get('emailGroup.confirmEmail').dirty) && 
                                                          (employeeForm.get('emailGroup.confirmEmail').errors ||
                                                           employeeForm.get('emailGroup').errors)">
                              <span *ngIf="employeeForm.get('emailGroup.confirmEmail').errors?.required">
                                  Please confirm your email address.
                              </span>
                              <span *ngIf="employeeForm.get('emailGroup').errors?.match">
                                  The confirmation does not match the email address.
                              </span>                          
                          </span>
                      </div>
                  </div>
              </div>

              

              <div class="form-group">
                  <div class="col-md-4 col-md-offset-2">
                      <span>
                          <button class="btn btn-primary"
                                  type="submit"
                                  [disabled]="!employeeForm.valid">
                              Save
                          </button>
                      </span>
                      <span>
                          <button class="btn btn-default"
                                  type="button"
                                  (click)="resetFormData()">
                              Reset Form
                          </button>
                      </span>
                  </div>
              </div>
          </fieldset>
      </form>
  </div>
</div>